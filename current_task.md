# âœ… 5åˆ†å‰²ç‰ˆè¨€èªè§£æç§»æ¤å®Œäº†ï¼

## ğŸ“‹ æˆæœ (2025-08-16)

### ğŸ‰ **ç§»æ¤å®Œäº†ãƒ»å‹•ä½œç¢ºèªæ¸ˆã¿**
- âœ… JavaScript: Functions: 4, Classes: 1
- âœ… Python: Functions: 5, Classes: 1  
- âœ… Rust: Functions: 6, Classes: 3
- âœ… Go: Functions: 6, Classes: 3
- âš ï¸ C++: Functions: 0, Classes: 0 (ãƒãƒ¼ãƒ‰éšå±¤å•é¡Œã€å¾Œã§ä¿®æ­£)
- âš ï¸ C#: Functions: 0, Classes: 0 (ãƒãƒ¼ãƒ‰éšå±¤å•é¡Œã€å¾Œã§ä¿®æ­£)

### ğŸ“‚ **ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹é€ **
```
./                          # ç¾åœ¨ã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªï¼ˆtest-5-binary-splitãƒ–ãƒ©ãƒ³ãƒï¼‰
â”œâ”€â”€ src/                    # åˆ†å‰²å‰ã®å‹•ä½œã™ã‚‹ãƒ¢ãƒãƒªã‚·ãƒƒã‚¯ç‰ˆ
â”‚   â””â”€â”€ analyzers/         # å®Œå…¨å®Ÿè£…æ¸ˆã¿ã®Tree-sitterè§£æ
â”œâ”€â”€ target/release/        
â”‚   â””â”€â”€ nekocode-rust      # å‹•ä½œç¢ºèªæ¸ˆã¿ãƒã‚¤ãƒŠãƒª
â””â”€â”€ nekocode-workspace/    # 5åˆ†å‰²ç‰ˆï¼ˆå£Šã‚Œã¦ã„ã‚‹ï¼‰
    â”œâ”€â”€ nekocode/          # ãƒ¡ã‚¤ãƒ³è§£æãƒã‚¤ãƒŠãƒª
    â”‚   â””â”€â”€ src/analyzer.rs # ç©ºå®Ÿè£…ã®å•é¡Œç®‡æ‰€
    â””â”€â”€ target/release/    
        â””â”€â”€ nekocode       # JavaScriptä»¥å¤–å‹•ä½œã—ãªã„
```

## ğŸ” **å•é¡Œã®è©³ç´°åˆ†æ**

### âœ… **æœ€ã‚‚é‡è¦ãªæˆæœ**
1. **column_start/endæƒ…å ±ã‚’å…¨è¨€èªã§ä¿æŒ**
   - nekorefactorã®æ­£ç¢ºãªã‚³ãƒ¼ãƒ‰ç·¨é›†ã«å¿…é ˆ
   - split-fileï¼ˆã‚½ãƒ¼ã‚¹åˆ†å‰²ï¼‰æ©Ÿèƒ½ã«å¿…è¦

2. **SymbolInfoæ§‹é€ ã®æ­£å½“æ€§ã‚’ç¢ºèª**
   - è¤‡é›‘ã ãŒå¿…è¦ãªè©³ç´°æƒ…å ±
   - 5ãƒ„ãƒ¼ãƒ«é–“ã§ã®ãƒ‡ãƒ¼ã‚¿å…±æœ‰ã«æœ€é©

### âœ… **ç§»æ¤å®Œäº†çŠ¶æ³**
```bash
# åˆ†å‰²å‰ï¼ˆãƒ¢ãƒãƒªã‚·ãƒƒã‚¯ç‰ˆï¼‰
./target/release/nekocode-rust analyze /tmp/neko-test/test.py
# Functions: 5, Classes: 1 âœ…

# 5åˆ†å‰²ç‰ˆï¼ˆä¿®æ­£å¾Œï¼‰  
./nekocode-workspace/target/release/nekocode analyze /tmp/neko-test/test.py
# Functions: 5, Classes: 1 âœ…
```

## ğŸ¯ **æ§‹é€ ã®è¤‡é›‘åŒ–å•é¡Œ**

### ğŸ“Š **æ§‹é€ ã®æ¯”è¼ƒ**

#### **åˆ†å‰²å‰ï¼ˆã‚·ãƒ³ãƒ—ãƒ«ï¼‰**
```rust
// ç›´æ¥çš„ãªæ§‹é€ 
struct FunctionInfo {
    name: String,
    start_line: u32,
    end_line: u32,
    parameters: Vec<String>,
}
```

#### **5åˆ†å‰²ç‰ˆï¼ˆè¤‡é›‘ï¼‰**
```rust  
// éšå±¤çš„ãªæ§‹é€ 
struct FunctionInfo {
    symbol: SymbolInfo {  // å…¥ã‚Œå­æ§‹é€ 
        id: String,
        name: String,
        symbol_type: SymbolType,
        file_path: PathBuf,
        line_start: u32,
        line_end: u32,
        // ... ä»–6ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰
    },
    parameters: Vec<ParameterInfo>, // æ›´ã«è¤‡é›‘ãªå‹
    // ... ä»–6ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰
}
```

### ğŸ¤” **è¤‡é›‘åŒ–ã®åŸå› **
1. **éåº¦ãªæŠ½è±¡åŒ–**: å…¨ãƒ„ãƒ¼ãƒ«ã§å…±é€šå‹ã‚’ä½¿ãŠã†ã¨ã—ãŸ
2. **Unixå“²å­¦ã®èª¤è§£**: åˆ†å‰² = è¤‡é›‘ãªå…±é€šå‹ãŒå¿…è¦ã¨æ€ã„è¾¼ã‚“ã 
3. **å°†æ¥æ‹¡å¼µã¸ã®éå‰°å‚™ãˆ**: YAGNIåŸå‰‡é•å

### ğŸ’¡ **æ”¹å–„æ¡ˆã®è©³ç´°åˆ†æ**

#### **æ¡ˆA: ã‚·ãƒ³ãƒ—ãƒ«ã«æˆ»ã™** â­æ¨å¥¨
**ãƒ¡ãƒªãƒƒãƒˆ:**
- ã‚³ãƒ¼ãƒ‰é‡ãŒ1/3ã«å‰Šæ¸›ï¼ˆç§»æ¤ã‚‚ç°¡å˜ï¼‰
- ãƒ‡ãƒãƒƒã‚°ãŒå®¹æ˜“
- Unixå“²å­¦ã«åˆè‡´ï¼ˆã‚·ãƒ³ãƒ—ãƒ«ãƒ»ã‚¤ã‚ºãƒ»ãƒ™ã‚¹ãƒˆï¼‰

**ãƒ‡ãƒ¡ãƒªãƒƒãƒˆ:**
- 5ãƒ„ãƒ¼ãƒ«é–“ã§ãƒ‡ãƒ¼ã‚¿å…±æœ‰æ™‚ã«å¤‰æ›å¿…è¦
- ã§ã‚‚å®Ÿéš›ã¯JSONã§å—ã‘æ¸¡ã—ã™ã‚‹ã‹ã‚‰å•é¡Œãªã„ï¼

#### **æ¡ˆB: ç¾çŠ¶ç¶­æŒã§æœ€é©åŒ–**
**ãƒ¡ãƒªãƒƒãƒˆ:**
- ç†è«–çš„ã«ã¯ã€Œæ­£ã—ã„ã€è¨­è¨ˆ
- å°†æ¥ã®æ‹¡å¼µã«å¯¾å¿œã—ã‚„ã™ã„ï¼ˆã‹ã‚‚ï¼‰

**ãƒ‡ãƒ¡ãƒªãƒƒãƒˆ:**
- éåº¦ãªè¤‡é›‘åŒ–ã§ãƒã‚°ã®æ¸©åºŠ
- ç§»æ¤ä½œæ¥­ãŒå¤§å¤‰ï¼ˆå…¨è¨€èªã§åŒã˜è¤‡é›‘ãªå¤‰æ›ï¼‰
- YAGNIã®åŸå‰‡é•å

### ğŸ”„ **è€ƒãˆç›´ã—ï¼šã“ã‚Œã¯å¿…è¦ãªè¤‡é›‘ã•ï¼**

#### **ãªãœè©³ç´°ãƒ‡ãƒ¼ã‚¿ãŒå¿…è¦ã‹**

**1. column_start/endï¼ˆåˆ—ä½ç½®ï¼‰**
```rust
// ãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°æ™‚ã«å¿…é ˆï¼
nekorefactor move-function process_data src/lib.rs:15:5 src/utils.rs
//                                                  â†‘åˆ—ä½ç½®ã§æ­£ç¢ºã«ç‰¹å®š
```

**2. symbol.idï¼ˆä¸€æ„è­˜åˆ¥å­ï¼‰**
```rust
// ä¾å­˜é–¢ä¿‚è¿½è·¡ã«å¿…é ˆ
nekoimpact analyze --symbol-id "rust_func_process_data_12345"
// ã€Œã“ã®é–¢æ•°ã‚’å¤‰æ›´ã—ãŸã‚‰ä½•ã«å½±éŸ¿ã™ã‚‹ï¼Ÿã€
```

**3. ParameterInfo.param_typeï¼ˆå‹æƒ…å ±ï¼‰**
```rust
// å‹å®‰å…¨ãªãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°
nekorefactor rename-param --check-type-compatibility
```

**4. metadataï¼ˆãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ï¼‰**
```rust
// è¨€èªå›ºæœ‰ã®æƒ…å ±ä¿å­˜
metadata["is_generator"] = "true"  // Python
metadata["is_template"] = "true"   // C++
```

### ğŸ“Š **å®Ÿã¯ã“ã‚ŒãŒæ­£ã—ã„è¨­è¨ˆ**

```
nekocodeï¼ˆè§£æï¼‰
  â†“ è©³ç´°ãªæ§‹é€ ãƒ‡ãƒ¼ã‚¿ï¼ˆSymbolInfoå«ã‚€ï¼‰
nekorefactorï¼ˆãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°ï¼‰
  â†’ columnä½ç½®ã§æ­£ç¢ºãªç·¨é›†
nekoimpactï¼ˆå½±éŸ¿åˆ†æï¼‰  
  â†’ symbol.idã§ä¾å­˜é–¢ä¿‚è¿½è·¡
nekoincï¼ˆã‚¤ãƒ³ã‚¯ãƒªãƒ¡ãƒ³ã‚¿ãƒ«ï¼‰
  â†’ file_pathã¨hashã§å¤‰æ›´æ¤œå‡º
```

### âœ… **çµè«–ï¼šç¾åœ¨ã®æ§‹é€ ã‚’ç¶­æŒã™ã¹ã**

**ç†ç”±ï¼š**
1. **å°†æ¥ã®æ‹¡å¼µæ€§**: AIã«ã‚ˆã‚‹ã‚³ãƒ¼ãƒ‰ç†è§£ãƒ»è‡ªå‹•ãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°ã«å¿…è¦
2. **ç²¾åº¦**: ãƒã‚¤ãƒˆå˜ä½ã®æ­£ç¢ºãªä½ç½®æƒ…å ±ãŒé‡è¦
3. **5åˆ†å‰²ã®çœŸã®ç›®çš„**: ãƒ‡ãƒ¼ã‚¿ã¯è©³ç´°ã«ã€ãƒ„ãƒ¼ãƒ«ã¯å˜æ©Ÿèƒ½ã«

**ãŸã ã—æ”¹å–„ç‚¹ï¼š**
- ä½¿ã‚ãªã„ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã¯Option<T>ã«ã™ã‚‹
- ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå€¤ã‚’æ´»ç”¨ã—ã¦ãƒœã‚¤ãƒ©ãƒ¼ãƒ—ãƒ¬ãƒ¼ãƒˆå‰Šæ¸›

### ğŸ“ **æ”¹å–„æ¡ˆï¼šãƒœã‚¤ãƒ©ãƒ¼ãƒ—ãƒ¬ãƒ¼ãƒˆå‰Šæ¸›**

```rust
// ç¾åœ¨ï¼ˆå†—é•·ï¼‰
let symbol = SymbolInfo {
    id: format!("python_func_{}", func_name),
    name: func_name,
    symbol_type: SymbolType::Function,
    file_path: std::path::PathBuf::new(),  // å¾Œã§åŸ‹ã‚ã‚‹
    line_start: start_line,
    line_end: end_line,
    column_start: func_node.start_position().column as u32,
    column_end: func_node.end_position().column as u32,
    language: Language::Python,
    visibility: Some(Visibility::Public),
    parent_id: None,
    metadata: std::collections::HashMap::new(),
};

// æ”¹å–„æ¡ˆï¼ˆãƒ“ãƒ«ãƒ€ãƒ¼ãƒ‘ã‚¿ãƒ¼ãƒ³ï¼‰
let symbol = SymbolInfo::function(func_name)
    .at_lines(start_line, end_line)
    .at_columns(start_col, end_col)
    .language(Language::Python)
    .build();
```

### ğŸš€ **ä½œæ¥­æ–¹é‡ï¼šç¾æ§‹é€ ã§ç§»æ¤ç¶™ç¶š**
```rust
// ç¾åœ¨ã®è¤‡é›‘ãªæ§‹é€ ï¼ˆä¸è¦ï¼‰
FunctionInfo {
    symbol: SymbolInfo { // 12ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ï¼
        id, name, symbol_type, file_path,
        line_start, line_end, column_start, column_end,
        language, visibility, parent_id, metadata
    },
    parameters: Vec<ParameterInfo> { // ã•ã‚‰ã«5ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ï¼
        name, param_type, default_value, is_optional, is_variadic
    },
    return_type, is_async, is_static, is_generic, complexity
}

// ã‚·ãƒ³ãƒ—ãƒ«ãªæ§‹é€ ï¼ˆååˆ†ï¼‰
FunctionInfo {
    name: String,
    start_line: u32,
    end_line: u32,
    parameters: Vec<String>, // åå‰ã ã‘ã§ååˆ†
    is_async: bool,
}
```

**å‰Šæ¸›åŠ¹æœ:**
- ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰æ•°: 22å€‹ â†’ 5å€‹ï¼ˆ77%å‰Šæ¸›ï¼‰
- ã‚³ãƒ¼ãƒ‰è¡Œæ•°: ç´„100è¡Œ â†’ ç´„30è¡Œï¼ˆ70%å‰Šæ¸›ï¼‰
- ç§»æ¤æ™‚é–“: 1è¨€èª30åˆ† â†’ 1è¨€èª5åˆ†

### **å‹•ä½œã™ã‚‹åˆ†å‰²å‰ï¼ˆsrc/analyzers/ï¼‰**
- `python/tree_sitter_analyzer.rs`: extract_functionså®Ÿè£…ã‚ã‚Š
- `rust/tree_sitter_analyzer.rs`: å®Œå…¨å®Ÿè£…
- `cpp/tree_sitter_analyzer.rs`: å®Œå…¨å®Ÿè£…
- `go/tree_sitter_analyzer.rs`: å®Œå…¨å®Ÿè£…  
- `csharp/tree_sitter_analyzer.rs`: å®Œå…¨å®Ÿè£…

### **å‹•ä½œã—ãªã„5åˆ†å‰²ç‰ˆï¼ˆnekocode-workspace/nekocode/src/ï¼‰**
- `analyzer.rs`: JavaScriptã®ã¿å®Ÿè£…ã€ä»–è¨€èªã¯ç©ºã®analyzeé–¢æ•°
- extract_functions, extract_classesæœªå®Ÿè£…
- Tree-sitterã‚¯ã‚¨ãƒªãŒå­˜åœ¨ã—ãªã„

## ğŸ¯ **ç§»æ¤ä½œæ¥­è¨ˆç”»**

### **ã‚¹ãƒ†ãƒƒãƒ—1: Python Analyzerç§»æ¤**
1. åˆ†å‰²å‰: `src/analyzers/python/tree_sitter_analyzer.rs`
   - extract_functions() - Queryã§é–¢æ•°æŠ½å‡º  
   - extract_classes() - ã‚¯ãƒ©ã‚¹ã¨ãƒ¡ã‚½ãƒƒãƒ‰æŠ½å‡º
   - extract_imports() - importæ–‡æŠ½å‡º
   - build_ast() - ASTæ§‹ç¯‰

2. 5åˆ†å‰²ç‰ˆ: `nekocode-workspace/nekocode/src/analyzer.rs`
   - PythonAnalyzer::analyze() - ç©ºå®Ÿè£…ã‚’ä¿®æ­£
   - extract_* ãƒ¡ã‚½ãƒƒãƒ‰ã‚’è¿½åŠ 

### **ã‚¹ãƒ†ãƒƒãƒ—2: ä»–è¨€èªã‚‚åŒæ§˜ã«ç§»æ¤**
- Rust: `src/analyzers/rust/tree_sitter_analyzer.rs` â†’ 5åˆ†å‰²ç‰ˆ
- C++: `src/analyzers/cpp/tree_sitter_analyzer.rs` â†’ 5åˆ†å‰²ç‰ˆ  
- Go: `src/analyzers/go/tree_sitter_analyzer.rs` â†’ 5åˆ†å‰²ç‰ˆ
- C#: `src/analyzers/csharp/tree_sitter_analyzer.rs` â†’ 5åˆ†å‰²ç‰ˆ

### **ã‚¹ãƒ†ãƒƒãƒ—3: ãƒ†ã‚¹ãƒˆã¨æ¤œè¨¼**
- /tmp/neko-test/ã®ãƒ†ã‚¹ãƒˆãƒ•ã‚¡ã‚¤ãƒ«ã§å‹•ä½œç¢ºèª
- å…¨è¨€èªã§é–¢æ•°/ã‚¯ãƒ©ã‚¹æ¤œå‡ºç¢ºèª

### 1. **nekocode** - ã‚³ã‚¢è§£æã‚¨ãƒ³ã‚¸ãƒ³
- **å½¹å‰²**: ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆè§£æã¨ã‚»ãƒƒã‚·ãƒ§ãƒ³ç®¡ç†
- **ä¸»è¦æ©Ÿèƒ½**:
  - `session-create`: ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå…¨ä½“ã‚’è§£æã—ã¦ã‚»ãƒƒã‚·ãƒ§ãƒ³ä½œæˆ
  - `session-update`: ã‚¤ãƒ³ã‚¯ãƒªãƒ¡ãƒ³ã‚¿ãƒ«æ›´æ–°
  - `analyze`: å˜ç™ºè§£æï¼ˆã‚»ãƒƒã‚·ãƒ§ãƒ³ãªã—ï¼‰
  - `ast-dump`, `ast-query`, `ast-stats`: ASTæ“ä½œ
- **ä¾å­˜**: Tree-sitterå…¨è¨€èªãƒ‘ãƒ¼ã‚µãƒ¼ï¼ˆé‡ã„ï¼‰
- **ã‚µã‚¤ã‚ºç›®æ¨™**: 15MB

### 2. **nekorefactor** - ãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°å°‚ç”¨
- **å½¹å‰²**: ã‚³ãƒ¼ãƒ‰ã®æ§‹é€ çš„ãªå¤‰æ›´
- **ä¸»è¦æ©Ÿèƒ½**:
  - `move-function`: é–¢æ•°ã‚’åˆ¥ãƒ•ã‚¡ã‚¤ãƒ«ã«ç§»å‹•
  - `move-struct`: æ§‹é€ ä½“ã¨å®Ÿè£…ã‚’ç§»å‹•
  - `extract-module`: ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«æŠ½å‡º
  - `split-file`: ãƒ•ã‚¡ã‚¤ãƒ«åˆ†å‰²
- **ä¾å­˜**: nekocodeã®ã‚»ãƒƒã‚·ãƒ§ãƒ³ã‚’èª­ã‚€ã ã‘ï¼ˆè»½ã„ï¼‰
- **ã‚µã‚¤ã‚ºç›®æ¨™**: 3MB

### 3. **nekoimpact** - å½±éŸ¿åˆ†æå°‚ç”¨
- **å½¹å‰²**: å¤‰æ›´ã®å½±éŸ¿ç¯„å›²åˆ†æ
- **ä¸»è¦æ©Ÿèƒ½**:
  - `analyze`: å½±éŸ¿åˆ†æå®Ÿè¡Œ
  - `--compare-ref`: Gitå±¥æ­´ã¨ã®æ¯”è¼ƒ
  - `--format`: å‡ºåŠ›å½¢å¼ï¼ˆplain/json/github-commentï¼‰
  - å¾ªç’°ä¾å­˜æ¤œå‡ºã€è¤‡é›‘åº¦å¤‰åŒ–æ¸¬å®š
- **ä¾å­˜**: Gité€£æºã€ã‚»ãƒƒã‚·ãƒ§ãƒ³èª­ã¿è¾¼ã¿
- **ã‚µã‚¤ã‚ºç›®æ¨™**: 2MB

### 4. **nekowatch** - ãƒ•ã‚¡ã‚¤ãƒ«ç›£è¦–å°‚ç”¨
- **å½¹å‰²**: ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ å¤‰æ›´æ¤œå‡º
- **ä¸»è¦æ©Ÿèƒ½**:
  - `start`: ç›£è¦–é–‹å§‹
  - `stop`: ç›£è¦–åœæ­¢
  - `--trigger-update`: å¤‰æ›´æ™‚ã«session-updateå®Ÿè¡Œ
- **ä¾å­˜**: notify-rsï¼ˆãƒ•ã‚¡ã‚¤ãƒ«ã‚·ã‚¹ãƒ†ãƒ ç›£è¦–ï¼‰
- **ã‚µã‚¤ã‚ºç›®æ¨™**: 1MB

### 5. **nekomcp** - MCPçµ±åˆã‚²ãƒ¼ãƒˆã‚¦ã‚§ã‚¤
- **å½¹å‰²**: Claude Codeçµ±åˆ
- **ä¸»è¦æ©Ÿèƒ½**:
  - å…¨ãƒ„ãƒ¼ãƒ«ã¸ã®çµ±ä¸€ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹
  - MCPãƒ—ãƒ­ãƒˆã‚³ãƒ«å®Ÿè£…
  - å„ãƒã‚¤ãƒŠãƒªã‚’ã‚µãƒ–ãƒ—ãƒ­ã‚»ã‚¹ã§å®Ÿè¡Œ
- **ä¾å­˜**: å„ãƒ„ãƒ¼ãƒ«ã‚’ã‚³ãƒãƒ³ãƒ‰ãƒ©ã‚¤ãƒ³ã§å‘¼ã³å‡ºã—
- **ã‚µã‚¤ã‚ºç›®æ¨™**: 1MB

## ğŸ“ ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹é€ 

```
nekocode-rust/
â”œâ”€â”€ Cargo.toml                 # ãƒ¯ãƒ¼ã‚¯ã‚¹ãƒšãƒ¼ã‚¹å®šç¾©
â”œâ”€â”€ nekocode-core/             # å…±é€šãƒ©ã‚¤ãƒ–ãƒ©ãƒª
â”‚   â”œâ”€â”€ Cargo.toml
â”‚   â””â”€â”€ src/
â”‚       â”œâ”€â”€ lib.rs
â”‚       â”œâ”€â”€ session.rs         # ã‚»ãƒƒã‚·ãƒ§ãƒ³ç®¡ç†
â”‚       â”œâ”€â”€ ast.rs             # ASTæ§‹é€ ä½“å®šç¾©
â”‚       â”œâ”€â”€ types.rs           # å…±é€šå‹å®šç¾©
â”‚       â””â”€â”€ config.rs          # è¨­å®šç®¡ç†
â”‚
â”œâ”€â”€ nekocode/                  # è§£æã‚¨ãƒ³ã‚¸ãƒ³
â”‚   â”œâ”€â”€ Cargo.toml
â”‚   â””â”€â”€ src/
â”‚       â”œâ”€â”€ main.rs
â”‚       â”œâ”€â”€ analyzers/         # å„è¨€èªã‚¢ãƒŠãƒ©ã‚¤ã‚¶ãƒ¼
â”‚       â”‚   â”œâ”€â”€ javascript/
â”‚       â”‚   â”œâ”€â”€ rust/
â”‚       â”‚   â”œâ”€â”€ python/
â”‚       â”‚   â””â”€â”€ ...
â”‚       â”œâ”€â”€ commands/
â”‚       â””â”€â”€ core/
â”‚
â”œâ”€â”€ nekorefactor/              # ãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°
â”‚   â”œâ”€â”€ Cargo.toml
â”‚   â””â”€â”€ src/
â”‚       â”œâ”€â”€ main.rs
â”‚       â”œâ”€â”€ move_function.rs
â”‚       â”œâ”€â”€ move_struct.rs
â”‚       â”œâ”€â”€ extract_module.rs
â”‚       â””â”€â”€ build_verify.rs   # ãƒ“ãƒ«ãƒ‰ç¢ºèª
â”‚
â”œâ”€â”€ nekoimpact/                # å½±éŸ¿åˆ†æ
â”‚   â”œâ”€â”€ Cargo.toml
â”‚   â””â”€â”€ src/
â”‚       â”œâ”€â”€ main.rs
â”‚       â”œâ”€â”€ git_integration.rs
â”‚       â”œâ”€â”€ impact_analyzer.rs
â”‚       â””â”€â”€ risk_assessment.rs
â”‚
â”œâ”€â”€ nekowatch/                 # ãƒ•ã‚¡ã‚¤ãƒ«ç›£è¦–
â”‚   â”œâ”€â”€ Cargo.toml
â”‚   â””â”€â”€ src/
â”‚       â”œâ”€â”€ main.rs
â”‚       â””â”€â”€ watcher.rs
â”‚
â””â”€â”€ nekomcp/                   # MCPçµ±åˆ
    â”œâ”€â”€ Cargo.toml
    â””â”€â”€ src/
        â”œâ”€â”€ main.rs
        â””â”€â”€ server.rs
```

## ğŸ”„ å®Ÿè£…è¨ˆç”»

### Phase 1: åŸºç›¤æ§‹ç¯‰ï¼ˆâœ… å®Œäº† 2025-08-16ï¼‰
- [x] è©³ç´°è¨­è¨ˆå®Œäº†ï¼ˆTaskå…ˆç”Ÿã«ã‚ˆã‚‹åˆ†æï¼‰
- [x] nekocode-workspace/ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªä½œæˆ
- [x] Workspace Cargo.tomlä½œæˆ
- [x] nekocode-core/Cargo.tomlä½œæˆ
- [x] nekocode-core/src/lib.rsåŸºæœ¬æ§‹é€ 
- [x] nekocode-core/src/types.rsï¼ˆå…±é€šå‹å®šç¾©ï¼‰
- [x] nekocode-core/src/error.rsï¼ˆã‚¨ãƒ©ãƒ¼å‹çµ±ä¸€ï¼‰
- [x] nekocode-core/src/session.rsï¼ˆã‚»ãƒƒã‚·ãƒ§ãƒ³ç®¡ç†ï¼‰
- [x] nekocode-core/src/config.rsï¼ˆè¨­å®šç®¡ç†ï¼‰
- [x] nekocode-core/src/io.rsï¼ˆãƒ•ã‚¡ã‚¤ãƒ«I/Oï¼‰
- [x] nekocode-core/src/memory.rsï¼ˆãƒ¡ãƒ¢ãƒªç®¡ç†ï¼‰
- [x] nekocode-core/src/traits.rsï¼ˆå…±é€šãƒˆãƒ¬ã‚¤ãƒˆï¼‰
- [x] å…¨ãƒã‚¤ãƒŠãƒªã®ã‚¹ã‚¿ãƒ–ä½œæˆã¨ãƒ“ãƒ«ãƒ‰æˆåŠŸ

### Phase 2: å€‹åˆ¥ãƒã‚¤ãƒŠãƒªå®Ÿè£…ï¼ˆå®Ÿæ–½ä¸­ 2025-08-16ï¼‰
- [x] nekoimpactå®Ÿè£…å®Œäº†ï¼ˆå½±éŸ¿åˆ†æãƒ„ãƒ¼ãƒ«ï¼‰
  - impact.rs: å½±éŸ¿åˆ†æã‚³ã‚¢æ©Ÿèƒ½
  - analyzer.rs: åˆ†æã‚ªãƒ—ã‚·ãƒ§ãƒ³
  - cli.rs: CLIã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹
  - main.rs: ãƒ¡ã‚¤ãƒ³ã‚¨ãƒ³ãƒˆãƒªãƒã‚¤ãƒ³ãƒˆ
  - ãƒ“ãƒ«ãƒ‰æˆåŠŸç¢ºèªæ¸ˆã¿
- [x] nekorefactorå®Ÿè£…å®Œäº†ï¼ˆãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°ãƒ„ãƒ¼ãƒ«ï¼‰
  - preview.rs: ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ç®¡ç†ã‚·ã‚¹ãƒ†ãƒ 
  - replace.rs: ãƒ†ã‚­ã‚¹ãƒˆç½®æ›æ©Ÿèƒ½
  - moveclass.rs: ã‚¯ãƒ©ã‚¹/é–¢æ•°ç§»å‹•æ©Ÿèƒ½
  - cli.rs: è±Šå¯ŒãªCLIã‚³ãƒãƒ³ãƒ‰
  - main.rs: çµ±åˆã‚¨ãƒ³ãƒˆãƒªãƒã‚¤ãƒ³ãƒˆ
  - ãƒ“ãƒ«ãƒ‰æˆåŠŸç¢ºèªæ¸ˆã¿
- [x] nekoincå®Ÿè£…å®Œäº†ï¼ˆã‚¤ãƒ³ã‚¯ãƒªãƒ¡ãƒ³ã‚¿ãƒ«è§£æãƒ»Watchæ©Ÿèƒ½ï¼‰
  - incremental.rs: å¤‰æ›´æ¤œå‡ºã‚¨ãƒ³ã‚¸ãƒ³
  - watch.rs: ãƒ•ã‚¡ã‚¤ãƒ«ç›£è¦–ã‚·ã‚¹ãƒ†ãƒ ï¼ˆtokio::sync::Mutexä½¿ç”¨ï¼‰
  - cli.rs: å¤šæ©Ÿèƒ½CLIã‚³ãƒãƒ³ãƒ‰
  - main.rs: çµ±åˆã‚¨ãƒ³ãƒˆãƒªãƒã‚¤ãƒ³ãƒˆ
  - ãƒ“ãƒ«ãƒ‰æˆåŠŸç¢ºèªæ¸ˆã¿
- [ ] nekocodeå®Ÿè£…ï¼ˆTree-sitterè§£æï¼‰
- [ ] ä¾å­˜é–¢ä¿‚è§£æ
- [ ] useæ–‡è‡ªå‹•ç”Ÿæˆ
- [ ] ãƒ“ãƒ«ãƒ‰æ¤œè¨¼æ©Ÿèƒ½

### Phase 3: æ—¢å­˜æ©Ÿèƒ½ã®ç§»è¡Œï¼ˆ1é€±é–“ï¼‰
- [ ] analyze-impact â†’ nekoimpact
- [ ] watchæ©Ÿèƒ½ â†’ nekowatch
- [ ] å„æ©Ÿèƒ½ã®ãƒ†ã‚¹ãƒˆ

### Phase 4: MCPçµ±åˆï¼ˆ3æ—¥ï¼‰
- [ ] nekomcpå®Ÿè£…
- [ ] çµ±ä¸€ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹
- [ ] Claude Codeè¨­å®šæ›´æ–°

### Phase 5: æœ€é©åŒ–ï¼ˆ3æ—¥ï¼‰
- [ ] ãƒã‚¤ãƒŠãƒªã‚µã‚¤ã‚ºæœ€é©åŒ–
- [ ] èµ·å‹•é€Ÿåº¦æ”¹å–„
- [ ] ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆæ›´æ–°

## ğŸ¯ æˆåŠŸåŸºæº–

### æ©Ÿèƒ½é¢
- [ ] å„ãƒ„ãƒ¼ãƒ«ãŒç‹¬ç«‹ã—ã¦å‹•ä½œ
- [ ] ã‚»ãƒƒã‚·ãƒ§ãƒ³å…±æœ‰ãŒæ­£å¸¸ã«æ©Ÿèƒ½
- [ ] nekorefactorã§move-functionãŒå‹•ä½œ
- [ ] ãƒ“ãƒ«ãƒ‰æˆåŠŸã‚’ä¿è¨¼

### ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹
- [ ] nekorefactorèµ·å‹•æ™‚é–“ < 100ms
- [ ] move-functionå®Ÿè¡Œ < 1ç§’
- [ ] ãƒã‚¤ãƒŠãƒªã‚µã‚¤ã‚ºåˆè¨ˆ < 25MBï¼ˆç¾åœ¨ã®15MBã‹ã‚‰åˆ†é›¢ï¼‰

### é–‹ç™ºåŠ¹ç‡
- [ ] å„ãƒ„ãƒ¼ãƒ«ã‚’ç‹¬ç«‹ã—ã¦ãƒ†ã‚¹ãƒˆå¯èƒ½
- [ ] æ©Ÿèƒ½è¿½åŠ ãŒä»–ãƒ„ãƒ¼ãƒ«ã«å½±éŸ¿ã—ãªã„
- [ ] æ–°è¦é–‹ç™ºè€…ãŒç†è§£ã—ã‚„ã™ã„

## ğŸ“ ä½¿ç”¨ä¾‹

```bash
# Step 1: è§£æã—ã¦ã‚»ãƒƒã‚·ãƒ§ãƒ³ä½œæˆ
$ nekocode session-create ./my-rust-project
Session created: abc123

# Step 2: ãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°å®Ÿè¡Œ
$ nekorefactor move-function abc123 process_data src/lib.rs src/processors/data.rs
âœ… Moved function 'process_data'
âœ… Added necessary imports
âœ… Build successful!

# Step 3: å½±éŸ¿åˆ†æ
$ nekoimpact analyze abc123 --compare-ref main
âš ï¸ 3 breaking changes detected

# Step 4: ç›£è¦–é–‹å§‹
$ nekowatch start abc123 --trigger-update
ğŸ‘€ Watching for changes...
```

## ğŸš€ æœŸå¾…ã•ã‚Œã‚‹åŠ¹æœ

1. **ä¿å®ˆæ€§å‘ä¸Š**: å„ãƒ„ãƒ¼ãƒ«ãŒå˜ä¸€è²¬ä»»
2. **ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æ”¹å–„**: å¿…è¦ãªæ©Ÿèƒ½ã ã‘ãƒ­ãƒ¼ãƒ‰
3. **é–‹ç™ºé€Ÿåº¦å‘ä¸Š**: ä¸¦è¡Œé–‹ç™ºå¯èƒ½
4. **ãƒ¦ãƒ¼ã‚¶ãƒ“ãƒªãƒ†ã‚£**: å¿…è¦ãªãƒ„ãƒ¼ãƒ«ã ã‘ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
5. **æ‹¡å¼µæ€§**: æ–°ãƒ„ãƒ¼ãƒ«è¿½åŠ ãŒå®¹æ˜“

## âš ï¸ æ³¨æ„äº‹é …

- ã‚»ãƒƒã‚·ãƒ§ãƒ³ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã®å¾Œæ–¹äº’æ›æ€§ç¶­æŒ
- æ—¢å­˜ã®MCPè¨­å®šã¨ã®äº’æ›æ€§ç¢ºä¿
- ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆãƒ»READMEã®å…¨é¢æ›´æ–°å¿…è¦

---
**æ›´æ–°æ—¥æ™‚**: 2025-08-16 13:15:00  
**ç¾åœ¨ã®ç„¦ç‚¹**: Phase 2å®Ÿæ–½ä¸­ - å€‹åˆ¥ãƒã‚¤ãƒŠãƒªå®Ÿè£…  
**ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹**: ğŸš€ **3/5ãƒã‚¤ãƒŠãƒªå®Œæˆï¼æ®‹ã‚Š2ã¤å®Ÿè£…ä¸­**

## ğŸ‰ é”æˆäº‹é …
- **nekocode-coreå…±é€šãƒ©ã‚¤ãƒ–ãƒ©ãƒª** å®Œæˆ
- **5ã¤ã®ãƒã‚¤ãƒŠãƒªæ§‹é€ ** ç¢ºç«‹
- **nekoimpact** å®Œå…¨å®Ÿè£…ãƒ»ãƒ“ãƒ«ãƒ‰æˆåŠŸ
  - å½±éŸ¿åˆ†ææ©Ÿèƒ½
  - ã‚»ãƒƒã‚·ãƒ§ãƒ³æ¯”è¼ƒ
  - 3ã¤ã®å‡ºåŠ›å½¢å¼ï¼ˆplain/json/github-commentï¼‰
- **nekorefactor** å®Œå…¨å®Ÿè£…ãƒ»ãƒ“ãƒ«ãƒ‰æˆåŠŸ
  - ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ç®¡ç†ã‚·ã‚¹ãƒ†ãƒ 
  - ãƒ†ã‚­ã‚¹ãƒˆç½®æ›ï¼ˆregexå¯¾å¿œï¼‰
  - ã‚¯ãƒ©ã‚¹/é–¢æ•°ç§»å‹•
  - è¡Œç§»å‹•ãƒ»ãƒ•ã‚¡ã‚¤ãƒ«åˆ†å‰²æ©Ÿèƒ½
- **nekoinc** å®Œå…¨å®Ÿè£…ãƒ»ãƒ“ãƒ«ãƒ‰æˆåŠŸ
  - ã‚¤ãƒ³ã‚¯ãƒªãƒ¡ãƒ³ã‚¿ãƒ«å¤‰æ›´æ¤œå‡º
  - ãƒ•ã‚¡ã‚¤ãƒ«Watchæ©Ÿèƒ½ï¼ˆnotifyä½¿ç”¨ï¼‰
  - æ¯”è¼ƒãƒ»ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆæ©Ÿèƒ½
  - éåŒæœŸå‡¦ç†å¯¾å¿œï¼ˆtokio::sync::Mutexï¼‰